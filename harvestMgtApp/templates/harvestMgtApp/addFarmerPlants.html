<h1>This is add farmer plant page</h1>


<form action="{% url 'addFarmerPlants' farmer_id %}" method="POST">
    {% csrf_token %}

    {{ form.as_p }}

    <lable for="plant">Plant</lable>
    <select name="plant">
        {% for plant in plants %}
            <option value="{{ plant.pk }}">{{ plant.plantName }}</option>
        {% endfor %}
    </select><br><br>
    <lable for="amount">Amount</lable>

    <input type="text" name="amount">
    <button>Add another</button>

<hr>

    <button type="submit">Submit</button>

</form>


<script>
let form_count = Number($("[name=extra_field_count]").val());
// get extra form count so we know what index to use for the next item.

$("#add-another").click(function() {
    form_count ++;

    let element = $('<input type="text"/>');
    element.attr('name', 'extra_field_' + form_count);
    $("#forms").append(element);
    // build element and append it to our forms container

    $("[name=extra_field_count]").val(form_count);
    // increment form count so our view knows to populate
    // that many fields for validation
})
</script>